<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/commons::head"></head>
<body>
<header th:replace="fragments/commons::nav"></header>
<main class="p-5 align-content-center bg-blur my-register-div my-main">

    <h1 class="text border-bottom">Register</h1>
    <div class="d-flex justify-content-center ">

        <div class="row g-3">
            <form   th:method="post"
                    th:action="@{/register}"
                    th:object="${registerDTO}">

                <div>
                    <div th:if="${hasError}" class="text-danger">Registration Error occurred!</div>
                    <div class="col-auto">
                        <label for="inputUsername" class="col-form-label text">Username</label>
                    </div>
                    <div class="col-auto">
                        <input th:field="*{username}" type="text"
                               id="inputUsername"
                               class="form-control"
                               aria-describedby="usernameHelpInline"
                               th:errorclass="bg-danger">
                    </div>
                    <div class="col-auto">
                        <small th:if="${#fields.hasErrors('username')}"
                               th:errors="*{username}" id="usernameError"
                               class="text form-text bg-danger rounded">Username length must be more than 3 characters</small>
                    </div>
                </div>
                <div>
                    <div class="col-auto">
                        <label for="inputEmail" class="col-form-label text">Email</label>
                    </div>
                    <div class="col-auto">
                        <input type="text"
                               th:field="*{email}" id="inputEmail"
                               class="form-control"
                               aria-describedby="emailHelpInline" th:errorclass="bg-danger">
                    </div>
                    <div class="col-auto">
                        <small th:if="${#fields.hasErrors('email')}"
                               th:errors="*{email}" id="emailError"
                               class="text form-text bg-danger rounded">Must be valid email</small>
                    </div>
                </div>
                <div>
                    <div class="col-auto">
                        <label for="inputPassword" class="col-form-label text">Password</label>
                    </div>
                    <div class="col-auto">
                        <input type="password"
                               th:field="*{password}" id="inputPassword"
                               class="form-control"
                               aria-describedby="passwordHelpInline" th:errorclass="bg-danger">
                    </div>
                    <div class="col-auto">
                        <small th:if="${#fields.hasErrors('password')}"
                               th:errors="*{password}" id="passwordError"
                               class="text form-text bg-danger rounded">Password length must be between 5 and 20 characters characters</small>
                    </div>
                </div>
                <div>
                    <div class="col-auto">
                        <label for="inputConfirmPassword" class="col-form-label text">Confirm Password</label>
                    </div>
                    <div class="col-auto">
                        <input type="password"
                               th:field="*{confirmPassword}"
                               id="inputConfirmPassword" class="form-control"
                               aria-describedby="confirmPasswordHelpInline" th:errorclass="bg-danger">
                    </div>
                    <div class="col-auto">
                        <small th:if="${#fields.hasErrors('confirmPassword')}"
                               th:errors="*{confirmPassword}" id="confirmPasswordError" class="text form-text bg-danger rounded">Password length must be between 5 and 20 characters</small>
                    </div>
                </div>
                <div>
                    <div class="col-auto">
                        <label for="inputAge" class="col-form-label text">Age</label>
                    </div>
                    <div class="col-auto">
                        <input type="number"
                               th:field="*{age}"
                               id="inputAge"
                               class="form-control"
                               aria-describedby="ageHelpInline" th:errorclass="bg-danger">
                    </div>
                    <div class="col-auto">
                        <small th:if="${#fields.hasErrors('age')}"
                               th:errors="*{age}" class="text form-text bg-danger rounded"></small>
                    </div>
                </div>
                <div class="col-auto">
                    <label for="role" class="col-form-label text" >Role</label>
                    <select th:field="*{role}"
                            th:errorclass="bg-danger"
                            id="role" class="custom-select">
                        <option value="" selected>Select role</option>
                        <option value="User" selected>User</option>
                        <option value="Admin" selected>Admin</option>
                        <option value="Artist" selected>Artist</option>
                    </select>
                    <small th:if="${#fields.hasErrors('role')}"
                           th:errors="*{role}"id="genreError" class="form-text bg-danger rounded">You must select a roel</small>
                </div>
                <div>
                    <div class="col-auto">
                        <label for="inputCountry" class="col-form-label text">Country</label>
                    </div>
                    <div class="col-auto">
                        <input type="country"
                               th:name="country"
                               th:field="*{country}"
                               id="inputCountry"
                               class="form-control"
                               aria-describedby="countryHelpInline" th:errorclass="bg-danger">
                    </div>
                    <div class="col-auto">
                        <small th:if="${#fields.hasErrors('country')}"
                               th:errors="*{country}" class="text form-text bg-danger rounded">Valid country!</small>
                    </div>
                </div>


        <div class="button-holder d-flex justify-content-center">
            <button type="submit" class="btn btn-warning  mb-3" value="Register">Register</button>
        </div>

    </form>
</main>

<footer th:replace="~{fragments/commons::footer}"></footer>
</body>
</html>
